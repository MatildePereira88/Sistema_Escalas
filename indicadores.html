<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Indicadores - Sistema de Escalas</title>
    
    <link rel="stylesheet" href="assets/css/indicadores.css">
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <div class="header-title-group"><img src="assets/img/logo.png" alt="Logo" class="logo"><h1>Dashboard Estratégico</h1></div>
            <a href="/painel-adm.html" class="btn-voltar-header">Voltar ao Painel</a>
        </div>
    </header>

    <main class="container">
        <div class="filters-container card">
            <div class="filter-group"><label for="filtro-data-inicio">Analisar Período De</label><input type="date" id="filtro-data-inicio"></div>
            <div class="filter-group"><label for="filtro-data-fim">Até</label><input type="date" id="filtro-data-fim"></div>
            <div class="filter-group"><label for="filtro-loja">Loja</label><select id="filtro-loja"><option value="">Todas</option></select></div>
            <div class="filter-group" id="container-filtro-supervisor"><label for="filtro-supervisor">Supervisor</label><select id="filtro-supervisor"><option value="">Todos</option></select></div>
            <button id="btn-aplicar-filtros">Analisar</button>
        </div>

        <div id="loading-stats">Selecione um período para iniciar a análise...</div>

        <div id="stats-wrapper" style="display: none;">
            <div class="kpi-grid">
                <div class="kpi-card card">
                    <div class="kpi-value" id="kpi-total-lojas">0</div>
                    <div class="kpi-label">Total de Lojas</div>
                </div>

                <div class="kpi-card card">
                    <div class="kpi-value" id="kpi-total-colaboradores">0</div>
                    <div class="kpi-label">Colaboradores Ativos</div>
                </div>

                <div class="kpi-card card">
                    <div class="kpi-value" id="kpi-total-ferias">0</div>
                    <div class="kpi-label">Colaboradores em Férias</div>
                </div>
                
                <div class="kpi-card card">
                    <div class="kpi-value" id="kpi-total-atestados">0</div>
                    <div class="kpi-label">Colaboradores com Atestado</div>
                </div>

                <div class="kpi-card card">
                    <div class="kpi-value" id="kpi-total-compensacao">0</div>
                    <div class="kpi-label">Colaboradores em Compensação</div>
                </div>

                <div class="kpi-card card">
                    <div class="kpi-value" id="kpi-total-folgas">0</div>
                    <div class="kpi-label">Total de Folgas</div>
                </div>

                <div class="kpi-card card">
                    <div class="kpi-value" id="kpi-disponibilidade-equipe">0%</div>
                    <div class="kpi-label">Disponibilidade da Equipe</div>
                </div>
            </div>

            <h2 class="section-title">Detalhes por Categoria</h2>
            <div class="detail-tables-grid"> <div class="table-card card">
                    <h3>Lojas por Região (<span id="total-lojas-regiao-display">0</span>)</h3>
                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr><th>Região</th><th>Total</th></tr>
                            </thead>
                            <tbody id="tabela-lojas-regiao-body">
                                <tr><td colspan="2" style="text-align: center; padding: 20px;">Nenhuma loja para exibir.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="table-card card">
                    <h3>Colaboradores por Cargo (<span id="total-colaboradores-cargo-display">0</span>)</h3>
                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr><th>Cargo</th><th>Total</th></tr>
                            </thead>
                            <tbody id="tabela-colaboradores-cargo-body">
                                <tr><td colspan="2" style="text-align: center; padding: 20px;">Nenhum colaborador para exibir.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="table-card card">
                    <h3>Colaboradores em Férias (<span id="total-ferias-detalhe-display">0</span>)</h3>
                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr><th>Colaborador</th><th>Cargo</th><th>Loja</th></tr>
                            </thead>
                            <tbody id="tabela-ferias-body">
                                <tr><td colspan="3" style="text-align: center; padding: 20px;">Nenhum em férias no período.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="table-card card">
                    <h3>Colaboradores com Atestado (<span id="total-atestados-detalhe-display">0</span>)</h3>
                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr><th>Data</th><th>Colaborador</th><th>Cargo</th><th>Loja</th></tr>
                            </thead>
                            <tbody id="tabela-atestados-body">
                                <tr><td colspan="4" style="text-align: center; padding: 20px;">Nenhum atestado no período.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                 <div class="table-card card">
                    <h3>Colaboradores em Compensação (<span id="total-compensacao-detalhe-display">0</span>)</h3>
                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr><th>Colaborador</th><th>Cargo</th><th>Loja</th></tr>
                            </thead>
                            <tbody id="tabela-compensacao-body">
                                <tr><td colspan="3" style="text-align: center; padding: 20px;">Nenhum em compensação no período.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="table-card card">
                    <h3>Colaboradores com Folga (<span id="total-folgas-detalhe-display">0</span>)</h3>
                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr><th>Data</th><th>Colaborador</th><th>Cargo</th><th>Loja</th></tr>
                            </thead>
                            <tbody id="tabela-folgas-body">
                                <tr><td colspan="4" style="text-align: center; padding: 20px;">Nenhuma folga no período.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            </div>
    </main>
    
    <script src="assets/js/modal.js"></script>
    <script src="assets/js/indicadores.js"></script>
</body>
</html>
